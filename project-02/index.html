<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Gloria | Colour Generator</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">
    <link rel="stylesheet" href="project-02.css">

  </head>
  <body>
    <nav>
      <a href="../index.html">Projects Home</a>
    </nav>
    <header>
      <h2>
        <span> <i class="fas fa-paint-brush fa-2x"></i> </span>
        Colour Generator
      </h2>
    </header>
    <main>
      <div class="control">
        <button id="getColour">
          Generate
        </button>
      </div>
      <div class="rand-colours">
        <div class="colour-box"></div>
        <div class="colour-box"></div>
        <div class="colour-box"></div>
        <div class="colour-box"></div>
        <div class="colour-box"></div>
        <div class="colour-box"></div>
        <div class="colour-box"></div>
        <div class="colour-box"></div>
      </div>
      <div class="chosen-colours">
        <h3>Your choices:</h3>
        <button id="clear">
          clear
        </button>
        <div class="chosen-container">
          <div class="chosen-box"></div>
          <div class="copy"> copy</div>
        </div>
        <div class="chosen-container">
          <div class="chosen-box"></div>
          <div class="copy"> copy</div>
        </div>
        <div class="chosen-container">
          <div class="chosen-box"></div>
          <div class="copy"> copy</div>
        </div>
        <div class="chosen-container">
          <div class="chosen-box"></div>
          <div class="copy"> copy</div>
        </div>

      </div>
    </main>

  <script>
  const btn = document.getElementById('getColour');
  const clearBtn = document.getElementById('clear');
  const divs = document.querySelectorAll('.colour-box');
  const chosenDivs = document.querySelectorAll('.chosen-box');

  let result;

  function random(){
    let number;
    number = Math.floor( Math.random() * 255 );
    return number;
  }

  function randomOpacity(){
    let number;
    number = Math.random().toFixed(2);
    if(number < 0.2){
      number = Math.random().toFixed(2);
    }
    return number;
  }

  function colorGenerator(){
    result = `rgba(${random()}, ${random()}, ${random()}, ${randomOpacity()})`;
    return result;
  }

  btn.addEventListener('click',function(){
    divs.forEach(function(div){
      let temp = colorGenerator();
      div.style.backgroundColor = temp;
      div.id = temp;
    });
  });

  // Choose colours
  divs.forEach(function(div){
    div.addEventListener('click',function(e){
      let temp = this.getAttribute('id');
      if(temp !== null){
        for(let i=0; i < chosenDivs.length; i++){
          if(chosenDivs[i].id == false){
            chosenDivs[i].id = temp;
            chosenDivs[i].style.backgroundColor = temp;
            break;
          }
        }
      }
    });
  });

  // clear chosen colours
  clearBtn.addEventListener('click',function(e){
    chosenDivs.forEach(function(chosenDiv){
        chosenDiv.removeAttribute('id');
        chosenDiv.removeAttribute('style');
    });
  });


  </script>
  </body>
</html>
