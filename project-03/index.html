<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Gloria | JS Clock</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">
    <link rel="stylesheet" href="project-03.css">

  </head>
  <body>
    <nav>
      <a href="../index.html">Projects Home</a>
    </nav>
    <header>
      <h2>
        <span> <i class="far fa-clock fa-2x"></i> </span>
        JavaScript Clock
      </h2>
    </header>
    <main>
      <div class="clock-container">
        <div class="clock">
          <div class="hand hour"></div>
          <div class="hand minute"></div>
          <div class="hand second"></div>
          <div class="center"></div>
          <div class="twelve"></div>
          <div class="six"></div>
          <div class="three"></div>
          <div class="nine"></div>
        </div>
        <div class="digital hide">
          <div class="box" id="hourOne"></div>
          <div class="box" id="hourTwo"></div> <span>H</span>
          <div class="box" id="minOne"></div>
          <div class="box" id="minTwo"></div> <span>M</span>
          <div class="box" id="secOne"></div>
          <div class="box" id="secTwo"></div> <span>S</span>
        </div>
      </div>
      <div class="control-container">
        <h3>Clock face colour:</h3>
        <div class="colours">
          <div class="block"
          style="background-color:rgba(119, 139, 235, 0.8);"></div>
          <div class="block"
          style="background-color:rgba(234, 134, 133, 0.8);"></div>
          <div class="block"
          style="background-color:rgba(247, 215, 148, 0.8);"></div>
          <div class="block"
          style="background-color:rgba(51, 217, 178, 0.8);"></div>
          <div class="block"
          style="background-color:rgba(153, 128, 250, 0.8);"></div>
          <div class="block"
          style="background-color:rgba(255, 255, 255, 0.8);"></div>
        </div>

        <div class="switch-container">
          <span> Analog </span>
          <div class="clock-switch">
            <div class="inner"></div>
          </div>
          <span> Digital </span>
        </div>
      </div>
    </main>


<script>
// Select digital clock box
  const hourOne = document.getElementById('hourOne');
  const hourTwo = document.getElementById('hourTwo');
  const minOne = document.getElementById('minOne');
  const minTwo = document.getElementById('minTwo');
  const secOne = document.getElementById('secOne');
  const secTwo = document.getElementById('secTwo');

// Show Current Time
  const secondHand = document.querySelector('.second');
  const minuteHand = document.querySelector('.minute');
  const hourHand = document.querySelector('.hour');

  function setTime(){
    let now, seconds, secondDegree, minutes, minuteDegree, hours, hourDegree;

    now = new Date();
    seconds = now.getSeconds();
    secondDegree = (seconds / 60)* 360 + 90;
    secondHand.style.transform = `rotate(${secondDegree}deg)`;

    minutes = now.getMinutes();
    minuteDegree = (minutes / 60)* 360 + 90;
    minuteHand.style.transform = `rotate(${minuteDegree}deg)`;

    hours = now.getHours();
    if(minutes > 10 && minutes < 50){
      hourDegree = (hours / 12)* 360 + 90 + 15;
    }else{
      hourDegree = (hours / 12)* 360 + 90;
    }

    hourHand.style.transform = `rotate(${hourDegree}deg)`;

    // For digital display
    let secStr, minStr, hourStr;
    secStr = seconds + '';
    if(secStr.length == 1){
      secTwo.innerHTML = secStr;
      secOne.innerHTML = '0';
    }else{
      secTwo.innerHTML = secStr[1];
      secOne.innerHTML = secStr[0];
    }
    minStr = minutes + '';
    if(minStr.length == 1){
      minTwo.innerHTML = minStr;
      minOne.innerHTML = '0';
    }else{
      minTwo.innerHTML = minStr[1];
      minOne.innerHTML = minStr[0];
    }
    hourStr = hours + '';
    if(hourStr.length == 1){
      hourTwo.innerHTML = hourStr;
      hourOne.innerHTML = '0';
    }else{
      hourTwo.innerHTML = hourStr[1];
      hourOne.innerHTML = hourStr[0];
    }

  };
  setInterval(setTime,1000);

// Change clock colour
  const clock = document.querySelector('.clock');
  const digitalClock = document.querySelector('.digital');
  const colorBlocks = document.querySelectorAll('.block');
  const digitalBoxes = document.querySelectorAll('.box');

  colorBlocks.forEach(colorBlock => colorBlock.addEventListener('click',function(e){
    let colour = this.style.backgroundColor;
    clock.style.backgroundImage = `
    radial-gradient(
      ${colour},
      #ffffff
    )`;

    // Change background color of digital clock
    digitalBoxes.forEach(digitalBox=>digitalBox.style.backgroundColor = colour);

  }));

// Switch between analog and digital clock
  const clockSwitch = document.querySelector('.clock-switch');
  const inner = document.querySelector('.inner');

  clockSwitch.addEventListener('click',function(e){
    clock.classList.toggle('hide');
    digitalClock.classList.toggle('hide');

    if(inner.style.left != '50%'){
      inner.style.left = '50%';
    }else{
      inner.style.left = '0%';
    }

  });

</script>
  </body>
</html>
