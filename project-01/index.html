<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Memory | Flip to Match Cards</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">
    <link rel="stylesheet" href="project-01.css">
  </head>
  <body>
    <nav>
      <a href="../index.html">Projects Home</a>
    </nav>
    <header>
      <h2>
        memory game
      </h2>
    </header>
    <main>
<!-- button       -->
      <div class="control">
        <button id="start">start</button>
      </div>
<!-- row 1       -->
      <div class="row">

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">1</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">2</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">3</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">4</div>
          </div>
        </div>

      </div>
<!-- row 2       -->
      <div class="row">

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">1</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">3</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">2</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">4</div>
          </div>
        </div>

      </div>
<!-- row 3       -->
      <div class="row">

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">8</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">7</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">6</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">5</div>
          </div>
        </div>

      </div>
<!-- row 4       -->
      <div class="row">

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">7</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">8</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">5</div>
          </div>
        </div>

        <div class="container">
          <div class="card">
            <div class="front"></div>
            <div class="back">6</div>
          </div>
        </div>

      </div>

  </main>

  <script>
    let cardArr = ["star","moon","sun","dog","cat","bird","up","down","star","moon","sun","dog","cat","bird","up","down"];
    const cardContents = document.querySelectorAll('.back');
    const startBtn = document.getElementById('start');
    const cards = document.querySelectorAll('.card');

// when the game start
// 1- shuffle the cards
// 2- restore the cards (cover the cards)
    startBtn.addEventListener('click', gameStart);

    function shuffle(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
    }

    function cardsRestore(){
      cards.forEach(function(card){
        card.classList.remove('flipped');
        card.classList.remove('disabled');
      });
    }

    function gameStart(){
      cardsRestore();
      setTimeout(function(){
        let newCardSet = shuffle(cardArr);
        for(let i=0; i< cardContents.length; i++){
          cardContents[i].innerHTML = newCardSet[i];
        }
      },300);
    }


// Handle card flip

    cards.forEach(function(card){
      card.addEventListener('click', displayCard);
    });

    function displayCard(){
      this.classList.toggle('flipped');
      this.classList.toggle('disabled');
    }



  </script>

  </body>
</html>
